<!DOCTYPE html5>
<html>
    <body>
        <canvas id="canvas" width="400" height="400"></canvas>
        <script>
            // Get the WebGL context
            var canvas = document.getElementById('canvas');
            var gl = canvas.getContext('experimental-webgl');
 
            // Pipeline setup
            gl.clearColor(0, 0, 0, 1);
 
            // Compile a vertex shader
            var vsSource = 'attribute vec2 pos;'+
                'void main(){gl_Position = vec4(pos*1.0-2.0, 0, 1);}'
            var vs = gl.createShader(gl.VERTEX_SHADER);
            gl.shaderSource(vs, vsSource);
            gl.compileShader(vs);
 
            // Compile a fragment shader
            fsSouce =  'void main() { gl_FragColor = vec4(0,0,1,1); }';
            var fs = gl.createShader(gl.FRAGMENT_SHADER);
            gl.shaderSource(fs, fsSouce);
            gl.compileShader(fs);
 
            // Link together into a program
            var prog = gl.createProgram();
            gl.attachShader(prog, vs);
            gl.attachShader(prog, fs);
            gl.linkProgram(prog);
            gl.useProgram(prog);
			
			// Vertex data
			var vertices = new Float32Array([ //
				2.31,1.05, //1
				1.69,1.05, //2
				1.19,1.41, //3
				1.00,2.00, //4
				1.19,2.59, //5
				1.69,2.95, //6
				2.31,2.95, //7
				2.81,2.59, //8
				3.00,2.00, //9
				2.81,1.41  //10
				]);
			// Index data
			var indices = new Uint16Array([ //
				0,1,2,3,4,5,6,7,8,9]);
				
            // Setup vertex buffer object
            var vbo = gl.createBuffer();
            gl.bindBuffer(gl.ARRAY_BUFFER, vbo);
            gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);
 
            // Bind vertex buffer to attribute variable
            var posAttrib = gl.getAttribLocation(prog, 'pos');
            gl.vertexAttribPointer(posAttrib, 2, gl.FLOAT, false, 0, 0);
            gl.enableVertexAttribArray(posAttrib);
			
			// Setup index buffer object
			var ibo = gl.createBuffer();
			gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibo);
            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, indices, 
                gl.STATIC_DRAW);
            ibo.numerOfEmements = indices.length;			
 
            // Clear framebuffer and render primitives
            gl.clear(gl.COLOR_BUFFER_BIT);
            gl.drawElements(gl.LINE_LOOP, ibo.numerOfEmements, 
                gl.UNSIGNED_SHORT, 0);
				
			// Second Render Call:
			
			// Vertex data
			var vertices = new Float32Array([ //
				2.34,1.17, //1
				1.66,1.17, //2
				1.17,1.66, //3
				1.17,2.34, //4
				1.66,2.83, //5
				2.34,2.83, //6
				2.83,2.34, //7
				2.83,1.66, //8
				]);
			// Index data
			var indices = new Uint16Array([ //
				0,1,2,3,4,5,6,7]);
				
            // Setup vertex buffer object
            var vbo = gl.createBuffer();
            gl.bindBuffer(gl.ARRAY_BUFFER, vbo);
            gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);
 
            // Bind vertex buffer to attribute variable
            var posAttrib = gl.getAttribLocation(prog, 'pos');
            gl.vertexAttribPointer(posAttrib, 2, gl.FLOAT, false, 0, 0);
            gl.enableVertexAttribArray(posAttrib);
			
			// Setup index buffer object
			var ibo = gl.createBuffer();
			gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibo);
            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, indices, 
                gl.STATIC_DRAW);
            ibo.numerOfEmements = indices.length;			
 
            // Render primitives without clearing framebuffer
            gl.drawElements(gl.LINE_LOOP, ibo.numerOfEmements, 
                gl.UNSIGNED_SHORT, 0);

			// Third Render Call:
			
			// Vertex data
			var vertices = new Float32Array([ //
				2.40,1.31, //1
				1.60,1.31, //2
				1.20,2.00, //3
				1.60,2.69, //4
				2.40,2.69, //5
				2.80,2.00, //6
				]);
			// Index data
			var indices = new Uint16Array([ //
				0,1,2,3,4,5,]);
				
            // Setup vertex buffer object
            var vbo = gl.createBuffer();
            gl.bindBuffer(gl.ARRAY_BUFFER, vbo);
            gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);
 
            // Bind vertex buffer to attribute variable
            var posAttrib = gl.getAttribLocation(prog, 'pos');
            gl.vertexAttribPointer(posAttrib, 2, gl.FLOAT, false, 0, 0);
            gl.enableVertexAttribArray(posAttrib);
			
			// Setup index buffer object
			var ibo = gl.createBuffer();
			gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibo);
            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, indices, 
                gl.STATIC_DRAW);
            ibo.numerOfEmements = indices.length;			
 
            // Render primitives without clearing framebuffer
            gl.drawElements(gl.LINE_LOOP, ibo.numerOfEmements, 
                gl.UNSIGNED_SHORT, 0);

			// Fourth Render Call:
			
			// Vertex data
			var vertices = new Float32Array([ //
				2.40,1.31, //1
				1.60,1.31, //2
				1.20,2.00, //3
				1.60,2.69, //4
				2.40,2.69, //5
				2.80,2.00, //6
				]);
			// Index data
			var indices = new Uint16Array([ //
				0,3, //
				1,4, //
				2,5  //
				]);
				
            // Setup vertex buffer object
            var vbo = gl.createBuffer();
            gl.bindBuffer(gl.ARRAY_BUFFER, vbo);
            gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);
 
            // Bind vertex buffer to attribute variable
            var posAttrib = gl.getAttribLocation(prog, 'pos');
            gl.vertexAttribPointer(posAttrib, 2, gl.FLOAT, false, 0, 0);
            gl.enableVertexAttribArray(posAttrib);
			
			// Setup index buffer object
			var ibo = gl.createBuffer();
			gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibo);
            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, indices, 
                gl.STATIC_DRAW);
            ibo.numerOfEmements = indices.length;			
 
            // Render primitives without clearing framebuffer
            gl.drawElements(gl.LINES, ibo.numerOfEmements, 
                gl.UNSIGNED_SHORT, 0);					
        </script>
    </body>
</html>